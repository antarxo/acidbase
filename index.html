<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Επαναχρησιμοποιήσιμα Drawer με p5.js</title>
  <!-- Φόρτωση της βιβλιοθήκης p5.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow-x: hidden;
      font-family: Arial, sans-serif;
    }
    /* Στυλ για τα συρτάρια */
    .drawer {
      width: 250px;
      position: fixed;
      right: -250px; /* Αρχικά εκτός οθόνης */
      background-color: #444;
      color: #fff;
      padding: 20px;
      box-sizing: border-box;
      transition: right 0.3s ease-in-out;
      border: 1px solid #222;
      box-shadow: -2px 0 5px rgba(0,0,0,0.5);
    }
    /* Όταν το συρτάρι είναι ενεργό */
    .drawer.active {
      right: 0;
    }
    /* Στυλ για το κουμπί τύπου hamburger */
    .toggleBtn {
      position: fixed;
      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 5px;
      font-size: 18px;
      z-index: 20;
    }
  </style>
</head>
<body>
  <script>
    // Ορισμός της κλάσης Drawer για δημιουργία επαναχρησιμοποιήσιμων συρταριών
    class Drawer {
      constructor(options) {
        this.width = options.width || 250;
        this.top = options.top || '50px';
        this.height = options.height || '300px';
        this.content = options.content || '';
        this.buttonLabel = options.buttonLabel || '|||';
        // Αν δεν οριστεί ρητά, ορίζουμε το κουμπί να τοποθετείται 50px πιο αριστερά από το drawer
        this.buttonPosition = options.buttonPosition || { 
          x: window.innerWidth - this.width - 50, 
          y: parseInt(this.top) + 20 
        };

        // Δημιουργία του drawer με τη χρήση της p5.js createDiv
        this.drawer = createDiv(this.content);
        this.drawer.addClass('drawer');
        this.drawer.style('top', this.top);
        this.drawer.style('height', this.height);
        this.drawer.style('width', `${this.width}px`);
        // Η αρχική θέση (εκτός οθόνης) καθορίζεται από το CSS (right: -250px)

        // Δημιουργία του κουμπιού για εναλλαγή εμφάνισης του drawer
        this.button = createButton(this.buttonLabel);
        this.button.addClass('toggleBtn');
        this.button.position(this.buttonPosition.x, this.buttonPosition.y);
        // Όταν πατηθεί το κουμπί, καλείται η μέθοδος toggle()
        this.button.mousePressed(() => this.toggle());

        // Ανανεώνουμε τη θέση του κουμπιού σε περίπτωση αλλαγής μεγέθους παραθύρου
        window.addEventListener('resize', () => {
          let newX = window.innerWidth - this.width - 50;
          this.button.position(newX, parseInt(this.top) + 20);
        });
      }

      // Μέθοδος εναλλαγής εμφάνισης του drawer
      toggle() {
        if (this.drawer.hasClass('active')) {
          this.drawer.removeClass('active');
        } else {
          this.drawer.addClass('active');
        }
      }
    }

    // Ορισμός δύο μεταβλητών για τα drawers
    let drawer1, drawer2;

    function setup() {
      createCanvas(windowWidth, windowHeight);
      background(240);

      // Δημιουργία του πρώτου drawer
      drawer1 = new Drawer({
        top: '50px',
        height: '300px',
        content: '<h3>Drawer 1</h3><p>Περιεχόμενο του πρώτου drawer.</p>',
        buttonLabel: '|||',
        buttonPosition: { x: window.innerWidth - 300, y: 70 }
      });

      // Δημιουργία του δεύτερου drawer
      drawer2 = new Drawer({
        top: '400px',
        height: '300px',
        content: '<h3>Drawer 2</h3><p>Περιεχόμενο του δεύτερου drawer.</p>',
        buttonLabel: '|||',
        buttonPosition: { x: window.innerWidth - 300, y: 420 }
      });
    }

    // Αναπροσαρμογή του canvas σε περίπτωση αλλαγής μεγέθους παραθύρου
    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }
  </script>
</body>
</html>
